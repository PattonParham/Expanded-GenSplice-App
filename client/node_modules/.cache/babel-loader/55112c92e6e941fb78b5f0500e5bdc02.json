{"ast":null,"code":"import { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nconst QUEUE_EVENT = \"QUEUE_EVENT\",\n      CLEAR_EVT_QUEUE = \"CLEAR_EVT_QUEUE\",\n      clearEvtQueue = () => ({\n  type: CLEAR_EVT_QUEUE\n}),\n      emit = e => ({\n  type: QUEUE_EVENT,\n  event: e\n});\n\nvar actionCreators = Object.freeze({\n  clearEvtQueue: clearEvtQueue,\n  emit: emit\n});\n\nconst INIT_STATE = {\n  events: []\n},\n      webAudioReducer = (e = INIT_STATE, t) => {\n  const n = {\n    events: [...e.events]\n  };\n\n  switch (t.type) {\n    case QUEUE_EVENT:\n      queueEvent(e, t, n);\n      break;\n\n    case CLEAR_EVT_QUEUE:\n      n.events = [];\n  }\n\n  return n;\n};\n\nfunction queueEvent(e, t, n) {\n  Array.isArray(t.event) ? t.event.forEach((t, r) => {\n    n.events.push({\n      key: e.events.length + r,\n      event: t\n    });\n  }) : n.events.push({\n    key: e.events.length,\n    event: t.event\n  });\n}\n\nfunction _defineProperty(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\n\nfunction _objectSpread(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = null != arguments[t] ? arguments[t] : {},\n        r = Object.keys(n);\n    \"function\" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (e) {\n      return Object.getOwnPropertyDescriptor(n, e).enumerable;\n    }))), r.forEach(function (t) {\n      _defineProperty(e, t, n[t]);\n    });\n  }\n\n  return e;\n}\n\nclass RRWA extends Component {\n  constructor(e) {\n    super(e), _defineProperty(this, \"processEvent\", ({\n      event: e\n    }) => {\n      e(this.audioContext, this.getCurrTime);\n    }), _defineProperty(this, \"getCurrTime\", () => this.audioContext.currentTime);\n    const t = window.AudioContext || window.webkitAudioContext;\n    if (!t) throw new Error(\"This environment does not support the web audio API.\");\n    this.audioContext = new t();\n  }\n\n  componentDidMount() {\n    this.props.events.length && (this.props.events.forEach(this.processEvent), this.props.clearQ());\n  }\n\n  shouldComponentUpdate(e) {\n    return e.events.length > 0;\n  }\n\n  componentDidUpdate() {\n    this.props.events.length && (this.props.events.forEach(this.processEvent), this.props.clearQ());\n  }\n\n  componentWillUnmount() {\n    this.audioContext.close();\n  }\n\n  render() {\n    return null;\n  }\n\n}\n\nconst mapState = ({\n  webAudioReducer: e\n}) => _objectSpread({}, e),\n      mapDispatch = e => ({\n  clearQ: () => e(clearEvtQueue())\n});\n\nvar RRWAComponent = connect(mapState, mapDispatch)(RRWA);\nexport { RRWAComponent as RRWAEngine, actionCreators, webAudioReducer };","map":{"version":3,"sources":["/Users/pattonparham/Desktop/CodeProjects/Expanded-GenSplice-App/node_modules/react-redux-webaudio/dist/index.es.js"],"names":["Component","connect","QUEUE_EVENT","CLEAR_EVT_QUEUE","clearEvtQueue","type","emit","e","event","actionCreators","Object","freeze","INIT_STATE","events","webAudioReducer","t","n","queueEvent","Array","isArray","forEach","r","push","key","length","_defineProperty","defineProperty","value","enumerable","configurable","writable","_objectSpread","arguments","keys","getOwnPropertySymbols","concat","filter","getOwnPropertyDescriptor","RRWA","constructor","audioContext","getCurrTime","currentTime","window","AudioContext","webkitAudioContext","Error","componentDidMount","props","processEvent","clearQ","shouldComponentUpdate","componentDidUpdate","componentWillUnmount","close","render","mapState","mapDispatch","RRWAComponent","RRWAEngine"],"mappings":"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","sourcesContent":["import{Component}from\"react\";import{connect}from\"react-redux\";const QUEUE_EVENT=\"QUEUE_EVENT\",CLEAR_EVT_QUEUE=\"CLEAR_EVT_QUEUE\",clearEvtQueue=()=>({type:CLEAR_EVT_QUEUE}),emit=e=>({type:QUEUE_EVENT,event:e});var actionCreators=Object.freeze({clearEvtQueue:clearEvtQueue,emit:emit});const INIT_STATE={events:[]},webAudioReducer=(e=INIT_STATE,t)=>{const n={events:[...e.events]};switch(t.type){case QUEUE_EVENT:queueEvent(e,t,n);break;case CLEAR_EVT_QUEUE:n.events=[]}return n};function queueEvent(e,t,n){Array.isArray(t.event)?t.event.forEach((t,r)=>{n.events.push({key:e.events.length+r,event:t})}):n.events.push({key:e.events.length,event:t.event})}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,n[t])})}return e}class RRWA extends Component{constructor(e){super(e),_defineProperty(this,\"processEvent\",({event:e})=>{e(this.audioContext,this.getCurrTime)}),_defineProperty(this,\"getCurrTime\",()=>this.audioContext.currentTime);const t=window.AudioContext||window.webkitAudioContext;if(!t)throw new Error(\"This environment does not support the web audio API.\");this.audioContext=new t}componentDidMount(){this.props.events.length&&(this.props.events.forEach(this.processEvent),this.props.clearQ())}shouldComponentUpdate(e){return e.events.length>0}componentDidUpdate(){this.props.events.length&&(this.props.events.forEach(this.processEvent),this.props.clearQ())}componentWillUnmount(){this.audioContext.close()}render(){return null}}const mapState=({webAudioReducer:e})=>_objectSpread({},e),mapDispatch=e=>({clearQ:()=>e(clearEvtQueue())});var RRWAComponent=connect(mapState,mapDispatch)(RRWA);export{RRWAComponent as RRWAEngine,actionCreators,webAudioReducer};\n"]},"metadata":{},"sourceType":"module"}